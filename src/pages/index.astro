---
import MainLayout from '../layouts/MainLayout.astro';
import Hero from '../components/Hero.astro';
import StatSection from '../components/StatSection.astro';
import ChairmanSection from '../components/ChairmanSection.astro';
---

<MainLayout title="Home">
  <Hero />
  <ChairmanSection />
  <StatSection />
</MainLayout>

<script>
  import { initPage, cleanup } from '../scripts/home';
  
  // Initial load
  initPage();
  
  // Barba transition support
  window.addEventListener('page-transition-done', () => {
    initPage();
  });
  
  window.addEventListener('beforeunload', cleanup);
</script>