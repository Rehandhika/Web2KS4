---
import MainLayout from '../layouts/MainLayout.astro';
import StudentCard from '../components/StudentCard.astro';
import studentsData from '../data/students.json';

const { officers, members } = studentsData;
---

<MainLayout title="Squad" pageClass="bg-midnight-900">
  <section class="section-padding pt-32">
    <div class="container-custom">
      <div class="mb-16">
        <div class="font-mono text-xs text-azure tracking-[0.4em] uppercase mb-6">// CLASSIFIED_SQUAD</div>
        <h1 class="font-display font-bold text-5xl md:text-7xl text-white leading-none mb-8">OUR<br/><span class="text-azure">COLLECTIVE</span></h1>
        <p class="text-mist/60 max-w-2xl font-light">The strategic minds behind the operation. A diverse group of innovators committed to structural excellence.</p>
      </div>
      
      <div class="flex gap-4 mb-16 flex-wrap">
        <button
          class="filter-btn px-8 py-3 bg-midnight-800 border border-white/10 text-mist text-xs uppercase tracking-widest hover:border-azure transition-all"
          data-filter="all"
        >
          All Units
        </button>
        <button
          class="filter-btn px-8 py-3 bg-midnight-800 border border-white/10 text-mist text-xs uppercase tracking-widest hover:border-azure transition-all"
          data-filter="Chairperson"
        >
          Officers
        </button>
        <button
          class="filter-btn px-8 py-3 bg-midnight-800 border border-white/10 text-mist text-xs uppercase tracking-widest hover:border-azure transition-all"
          data-filter="Member"
        >
          Regulars
        </button>
      </div>
      
      <div id="anggota-grid" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6">
        {officers.map((officer) => (
          <StudentCard
            id={officer.id}
            name={officer.name}
            role={officer.role}
            photo={officer.photo}
            quote={officer.quote}
            isOfficer={true}
          />
        ))}
        
        {members.map((member) => (
          <StudentCard
            id={member.id}
            name={member.name}
            role={member.role}
            photo={member.photo}
            isOfficer={false}
          />
        ))}
      </div>
    </div>
  </section>
</MainLayout>

<script>
  import { initPage, cleanup } from '../scripts/anggota';
  
  initPage();
  window.addEventListener('page-transition-done', () => {
    initPage();
  });
  
  window.addEventListener('beforeunload', cleanup);
</script>
